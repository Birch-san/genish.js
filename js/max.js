'use strict'

let gen  = require('./gen.js')

let proto = {
  basename:'max',

  gen() {
    let out,
        inputs = gen.getInputs( this )

    gen.variableNames.add( [this.name, 'f'] )
    
    if( isNaN( inputs[0] ) || isNaN( inputs[1] ) ) {

      out = [ this.name, `  ${this.name} = fround( max( +${inputs[0]}, +${inputs[1]} ) );\n` ]

    } else {
      out = Math.max( parseFloat( inputs[0], inputs[1] ) )
    }
    
    return out
  }
}

module.exports = (x,y) => {
  let max = Object.create( proto )

  max.inputs = [ x,y ]
  max.id = gen.getUID()
  max.name = `${max.basename}${max.id}`

  return max
}
